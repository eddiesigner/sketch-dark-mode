!function (t, e) { "object" == typeof exports && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define(e) : t.Verte = e() }(this, function () { "use strict"; function a(t) { return (a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t })(t) } function n(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } function i(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } function s(t, e, r) { return e && i(t.prototype, e), r && i(t, r), t } function o(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), e && r(t, e) } function l(t) { return (l = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) { return t.__proto__ || Object.getPrototypeOf(t) })(t) } function r(t, e) { return (r = Object.setPrototypeOf || function (t, e) { return t.__proto__ = e, t })(t, e) } function u(t, e) { return !e || "object" != typeof e && "function" != typeof e ? function (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t }(t) : e } function c(t, e, r) { return (c = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function (t, e, r) { var n = function (t, e) { for (; !Object.prototype.hasOwnProperty.call(t, e) && null !== (t = l(t));); return t }(t, e); if (n) { var i = Object.getOwnPropertyDescriptor(n, e); return i.get ? i.get.call(r) : i.value } })(t, e, r || t) } function h(t) { return "object" === a(t) && t.model ? t.model : ("#" !== t.slice(0, 1) || 4 !== t.length && 7 !== t.length) && ("#" !== t.slice(0, 1) || 6 !== t.length && 9 !== t.length) ? "RGBA" === t.slice(0, 4).toUpperCase() ? "rgb" : "RGB" === t.slice(0, 3).toUpperCase() ? "rgb" : "HSLA" === t.slice(0, 4).toUpperCase() ? "hsl" : "HSL" === t.slice(0, 3).toUpperCase() && "hsl" : "hex" } function d(t) { return isNaN(parseInt(t, 16)) ? 0 : parseInt(t, 16) } function f(e, r) { return function (t) { return e <= t && t <= r } } function t(t, e) { return Math.floor(Math.random() * (e - t + 1) + t) } function p(t, e) { var r = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : .5; return Number((t * (1 - r) + e * r).toFixed(2)) } function e(t) { return !(void 0 === t || isNaN(t) || t < 0 || 1 < t) } var v = function () { function t(e) { var r = this; n(this, t), this.invalid = !this.validate(e), this.invalid || Object.keys(e).forEach(function (t) { r[t] = e[t] }), this.init() } return s(t, [{ key: "init", value: function () { } }, { key: "validate", value: function (t) { return !!t && "object" === a(t) } }]), t }(), m = function (t) { function r() { return n(this, r), u(this, l(r).apply(this, arguments)) } return o(r, v), s(r, [{ key: "validate", value: function (t) { if (!c(l(r.prototype), "validate", this).call(this, t)) return !1; var e = f(0, 255); return e(t.red) && e(t.green) && e(t.blue) } }, { key: "init", value: function () { this.model = "rgb", this.alpha = e(this.alpha) ? this.alpha : 1 } }, { key: "toString", value: function () { return this.invalid ? "Invalid Color" : f(0, .999)(this.alpha) ? "rgba(".concat(this.red, ",").concat(this.green, ",").concat(this.blue, ",").concat(this.alpha, ")") : "rgb(".concat(this.red, ",").concat(this.green, ",").concat(this.blue, ")") } }]), r }(), g = function (t) { function r() { return n(this, r), u(this, l(r).apply(this, arguments)) } return o(r, v), s(r, [{ key: "validate", value: function (t) { if (!c(l(r.prototype), "validate", this).call(this, t)) return !1; var e = f(0, 100); return f(0, 360)(t.hue) && e(t.lum) && e(t.sat) } }, { key: "init", value: function () { this.model = "hsl", this.alpha = e(this.alpha) ? this.alpha : 1 } }, { key: "toString", value: function () { return this.invalid ? "Invalid Color" : f(0, .999)(this.alpha) ? "hsla(".concat(this.hue, ",").concat(this.sat, "%,").concat(this.lum, "%,").concat(this.alpha, ")") : "hsl(".concat(this.hue, ",").concat(this.sat, "%,").concat(this.lum, "%)") } }]), r }(), b = function (t) { function e() { return n(this, e), u(this, l(e).apply(this, arguments)) } return o(e, v), s(e, [{ key: "validate", value: function (t) { return !!c(l(e.prototype), "validate", this).call(this, t) && /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test("#".concat(t.red).concat(t.green).concat(t.blue)) } }, { key: "init", value: function () { this.model = "hex", this.alpha = void 0 !== this.alpha ? this.alpha : "ff" } }, { key: "toString", value: function () { return this.invalid ? "Invalid Color" : f(0, .999)(d(this.alpha) / 255) ? "#".concat(this.red).concat(this.green).concat(this.blue).concat(this.alpha) : "#".concat(this.red).concat(this.green).concat(this.blue) } }]), e }(), y = Object.freeze({ Color: v, RgbColor: m, HslColor: g, HexColor: b }); function C(t) { if ("object" === a(t)) return t; var e = t.match(/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,*\s*(\d*(?:\.\d+)*)*\)/i); return !e || e.length < 4 ? new m : new m({ red: Number(e[1]), green: Number(e[2]), blue: Number(e[3]), alpha: Number(e[4]) }) } function _(t) { if ("object" === a(t)) return t; var e, r, n = (r = /^#([a-f\d])([a-f\d])([a-f\d])([a-f\d])*$/i, 5 !== (e = t).length && 4 !== e.length || !r.test(e) || (e = e.replace(r, function (t, e, r, n, i) { return "#".concat(e).concat(e).concat(r).concat(r).concat(n).concat(n).concat(i ? "".concat(i).concat(i) : "") })), e), i = n.match(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})*/i); return !i || i.length < 4 ? new b : new b({ hex: n, red: i[1], green: i[2], blue: i[3], alpha: i[4] }) } function x(t) { if ("object" === a(t)) return t; var e = t.match(/^hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*,*\s*(\d*(?:\.\d+)*)*\)/i); return !e || e.length < 4 ? new g : new g({ hue: Number(e[1]), sat: Number(e[2]), lum: Number(e[3]), alpha: Number(e[4]) }) } function w(t) { return t = Math.floor(t), isNaN(t) ? "00" : ("0" + t.toString(16)).slice(-2) } function S(t) { if (!t) return new b; var e = [w((t = C(t)).red), w(t.green), w(t.blue), t.alpha ? w(255 * t.alpha) : null]; return new b({ red: e[0], green: e[1], blue: e[2], alpha: e[3] || "ff" }) } function k(t) { if (!t) return new g; var e = [(t = C(t)).red / 255, t.green / 255, t.blue / 255, t.alpha], r = e[0], n = e[1], i = e[2], a = e[3], s = 0, o = 0, l = 0, u = Math.min(r, n, i), c = Math.max(r, n, i); return l = (u + c) / 2, u !== c && (o = .5 < l ? (c - u) / (2 - c - u) : (c - u) / (c + u)), c <= r && u !== c && (s = (n - i) / (c - u) * 60), c <= n && u !== c && (s = 60 * (2 + (i - r) / (c - u))), c <= i && u !== c && (s = 60 * (4 + (r - n) / (c - u))), s = s < 0 ? Math.floor(s + 360) : Math.floor(s), o = Math.floor(100 * o), l = Math.floor(100 * l), new g({ hue: s, sat: o, lum: l, alpha: a }) } function M(t) { if (!t) return new m; var e = _(t), r = e.red, n = e.green, i = e.blue, a = e.alpha; return new m({ red: d(r), green: d(n), blue: d(i), alpha: void 0 === a ? 1 : Number((d(a) / 255).toFixed(2)) }) } function L(t) { return Math.min(Math.max(parseInt(t), 0), 255) } function H(t) { if (!t) return new m; var e = [(t = x(t)).hue / 360, t.sat / 100, t.lum / 100, t.alpha], r = e[0], n = e[1], i = e[2], a = e[3], s = 0, o = 0, l = 0; if (0 === n && (s = o = l = L(255 * i)), 0 !== n) { var u = 50 <= i ? i + n - i * n : i * (1 + n), c = 2 * i - u, h = function (t) { return t < 0 && (t += 1), 1 < t && (t -= 1), t < 1 / 6 ? c + 6 * (u - c) * t : t < .5 ? u : t < 2 / 3 ? c + (u - c) * (2 / 3 - t) * 6 : c }; s = L(255 * h(r + 1 / 3)), o = L(255 * h(r)), l = L(255 * h(r - 1 / 3)) } return new m({ red: s, green: o, blue: l, alpha: a }) } function E(t) { var e = h(t); return "hex" === e ? M(t) : "hsl" === e ? H(t) : "rgb" === e && "string" == typeof t ? C(t) : "rgb" === e && "object" === a(t) ? t : new m } function P(t) { var e, r = h(t); return "hex" === r ? (e = t) ? k(M(e)) : new g : "rgb" === r ? k(t) : "hsl" === r && "string" == typeof t ? x(t) : "hsl" === r && "object" === a(t) ? t : new g } function R(t) { var e, r = h(t); return "rgb" === r ? S(t) : "hsl" === r ? (e = t) ? S(H(e)) : new b : "hex" === r && "string" == typeof t ? _(t) : "hex" === r && "object" === a(t) ? t : new b } function $() { return "rgb(".concat(t(0, 255), ", ").concat(t(0, 255), ", ").concat(t(0, 255), ")") } function V(t, e, r) { t = E(t), e = E(e); var n = Math.floor(p(t.red, e.red, r)), i = Math.floor(p(t.green, e.green, r)), a = Math.floor(p(t.blue, e.blue, r)), s = p(t.alpha, e.alpha, r); return new m({ red: n, green: i, blue: a, alpha: s }) } function N(t, e) { for (; t !== document && null !== t;) { if (t === e) return !0; t = t.parentNode } return !1 } function O(t, r) { return t.reduce(function (t, e) { return Math.abs(e - r) < Math.abs(t - r) ? e : t }) } function A(t, r) { return function (t) { var e = -1 !== r.indexOf(t); return e } } function j(t) { if (t.type.match(/^touch/i)) { var e = t.touches[0]; return { x: e.clientX, y: e.clientY } } return t.type.match(/^mouse/i) ? { x: t.clientX, y: t.clientY } : { x: 0, y: 0 } } var F = { name: "VerteSlider", props: { gradient: Array, classes: Array, colorCode: { type: Boolean, default: !1 }, editable: { type: Boolean, default: !0 }, reverse: { type: Boolean, default: !1 }, label: { type: Boolean, default: !1 }, trackSlide: { type: Boolean, default: !0 }, min: { type: Number, default: 0 }, max: { type: Number, default: 255 }, step: { type: Number, default: 1 }, value: { type: Number, default: 0 }, handlesValue: { type: Array, default: function () { return [0] } } }, data: function () { return { fill: { translate: 0, scale: 0 }, multiple: !1, currentValue: 0, handles: [], values: [] } }, watch: { gradient: function (t) { this.initGradient(t), this.reloadHandlesColor() }, values: function () { this.multiple = 1 < this.values.length, this.fill = !this.multiple && (this.fill || {}) }, value: function (t, e) { t !== e && t !== this.currentValue && this.updateValue(this.value, !0) } }, methods: { init: function () { var r, n, i, a = this; this.$emitInputEvent = (r = function () { a.$emit("input", a.currentValue) }, void 0 === n && (n = !1), function () { var t = arguments, e = n && !i; window.cancelAnimationFrame(i), i = window.requestAnimationFrame(function () { i = null, n || r.apply(void 0, t) }), e && r.apply(void 0, arguments) }), this.multiple = 1 < this.values.length, this.values = this.handlesValue, this.handles = this.handlesValue.map(function (t, e) { return { value: t, position: 0, color: "#fff" } }), 1 === this.values.length && (this.values[0] = Number(this.value)), this.values.sort(), this.initElements(), this.gradient && this.initGradient(this.gradient), this.initEvents(), this.values.forEach(function (t, e) { a.activeHandle = e, a.updateValue(t, !0) }) }, initElements: function () { var t; this.wrapper = this.$refs.wrapper, this.track = this.$refs.track, this.fill = this.$refs.fill, this.wrapper.classList.toggle("slider--editable", this.editable), this.wrapper.classList.toggle("slider--reverse", this.reverse), this.classes && (t = this.wrapper.classList).add.apply(t, this.classes) }, initGradient: function (e) { 1 < e.length ? this.fill.style.backgroundImage = "linear-gradient(90deg, " + e + ")" : (this.fill.style.backgroundImage = "", this.fill.style.backgroundColor = e[0], this.handles.forEach(function (t) { t.style.color = e[0] })) }, handleResize: function () { this.updateWidth(), this.updateValue(this.currentValue, !0) }, initEvents: function () { window.addEventListener("resize", this.handleResize) }, select: function (t) { if (t.preventDefault(), t.stopPropagation(), 2 !== t.buttons) { this.updateWidth(), this.track.classList.add("slider--dragging"), this.ticking = !1; var e = this.getStepValue(t); if (this.multiple) { var r = O(this.values, e); this.activeHandle = this.values.indexOf(r) } this.updateValue(e), this.tempDrag = this.dragging.bind(this), this.tempRelease = this.release.bind(this), document.addEventListener("mousemove", this.tempDrag), document.addEventListener("touchmove", this.tempDrag), document.addEventListener("touchend", this.tempRelease), document.addEventListener("mouseup", this.tempRelease) } }, dragging: function (t) { var e = this, r = this.getStepValue(t); this.ticking || (window.requestAnimationFrame(function () { e.updateValue(r), e.ticking = !1 }), this.ticking = !0) }, release: function () { this.track.classList.remove("slider--dragging"), document.removeEventListener("mousemove", this.tempDrag), document.removeEventListener("touchmove", this.tempDrag), document.removeEventListener("mouseup", this.tempRelease), document.removeEventListener("touchend", this.tempRelease) }, getStepValue: function (t) { var e = j(t).x - this.currentX, r = parseInt(e / this.stepWidth + .5, 10) * this.step + this.min; return this.decimalsCount ? Number(r.toFixed(this.decimalsCount)) : r }, updateWidth: function () { var t = this.track.getBoundingClientRect(); this.currentX = t.left, this.width = t.width, this.stepWidth = this.width / (this.max - this.min) * this.step }, getPositionPercentage: function (t) { return ((t - this.min) / (this.max - this.min)).toFixed(2) }, normalizeValue: function (t) { if (isNaN(Number(t))) return this.value; if (this.multiple) { var e = this.values[this.activeHandle - 1] || this.min, r = this.values[this.activeHandle + 1] || this.max; t = Math.min(Math.max(Number(t), e), r) } return Math.min(Math.max(Number(t), this.min), this.max) }, addHandle: function (t) { var e = O(this.values, t), r = this.values.indexOf(e), n = this.values[r] <= t ? r + 1 : r; this.handles.splice(n, 0, { value: t, position: 0, color: "#fff" }), this.values.splice(n, 0, t), this.activeHandle = n, this.currentValue = null, this.updateValue(t) }, removeHandle: function (t) { this.handles.splice(t, 1), this.values.splice(t, 1), this.activeHandle = 0 === t ? t + 1 : t - 1 }, getHandleColor: function (t) { for (var e = this.gradient.length - 1, r = t, n = 1; n <= e; n++)if ((n - 1) / e <= r && r <= n / e) { var i = (r - (n - 1) / e) / (1 / e); return V(this.gradient[n - 1], this.gradient[n], i) } return "rgb(0, 0, 0)" }, reloadHandlesColor: function () { var i = this; this.handles.forEach(function (t, e) { var r = i.getPositionPercentage(t.value), n = i.getHandleColor(r); i.handles[e].color = n.toString() }) }, updateValue: function (n, i) { var a = this; void 0 === i && (i = !1), window.requestAnimationFrame(function () { var t = a.normalizeValue(n), e = a.getPositionPercentage(t); if (a.fill && (a.fill.translate = e * a.width, a.fill.scale = 1 - e), a.values[a.activeHandle] = t, a.handles[a.activeHandle].value = t, a.handles[a.activeHandle].position = e * a.width, a.currentValue = t, a.$refs.input.value = a.currentValue, a.gradient) { var r = a.getHandleColor(e); a.handles[a.activeHandle].color = r.toString(), a.colorCode && (a.currentValue = r) } i || a.$emitInputEvent() }) } }, created: function () { var t = this.step.toString().split(".")[1]; this.currentValue = this.value, this.decimalsCount = t ? t.length : 0 }, mounted: function () { var t = this; this.init(), this.$nextTick(function () { t.updateWidth(), t.updateValue(void 0, !0) }) }, destroyed: function () { window.removeEventListener("resize", this.handleResize) } }, I = function () { var e = this, t = e.$createElement, r = e._self._c || t; return r("div", { ref: "wrapper", staticClass: "slider" }, [r("div", e._g({ ref: "track", staticClass: "slider__track" }, e.trackSlide ? { mousedown: e.select, touchstart: e.select } : {}), [r("div", { ref: "fill", staticClass: "slider__fill" }), e._l(e.handles, function (t) { return r("div", { staticClass: "slider__handle", style: "transform: translate(" + t.position + "px, 0); background-color: " + t.color + ";", on: { mousedown: e.select, touchstart: e.select } }, [e.label ? r("div", { staticClass: "slider__label" }, [e._v(e._s(t.value))]) : e._e()]) })], 2), r("input", { directives: [{ name: "show", rawName: "v-show", value: e.editable, expression: "editable" }], ref: "input", staticClass: "slider__input", attrs: { type: e.colorCode ? "text" : "number" }, on: { change: function (t) { e.updateValue(t.target.value) } } })]) }; I._withStripped = !0; var q, B, D, U, W, T = (D = void 0, U = !(q = { render: I, staticRenderFns: [] }), (W = ("function" == typeof (B = F) ? B.options : B) || {}).__file = "/mnt/c/Users/Abdelrahman/Projects/verte/src/components/Slider.vue", W.render || (W.render = q.render, W.staticRenderFns = q.staticRenderFns, W._compiled = !0, U && (W.functional = !0)), W._scopeId = D, W), z = { name: "VertePicker", components: { Slider: T }, props: { mode: { type: String, default: "square" }, edge: { type: Number, default: 250 }, diameter: { type: Number, default: 180 }, satSlider: { type: Boolean, default: !0 }, alpha: { type: Number, default: 1 }, value: { type: String, default: "#fff" } }, data: function () { return { currentHue: 0, currentSat: 0, currentColor: "", cursor: {}, preventUpdating: !1, preventEcho: !1 } }, watch: { value: function (t) { this.preventUpdating ? this.preventUpdating = !1 : this.handleValue(t, !0) }, currentSat: function () { this.updateWheelColors(), this.updateColor() }, currentHue: function () { this.updateSquareColors(), this.updateColor() } }, methods: { initSquare: function () { var t = this.edge; this.$refs.canvas.width = t, this.$refs.canvas.height = t - 100, this.ctx = this.$refs.canvas.getContext("2d"), this.updateSquareColors() }, initWheel: function () { this.$refs.canvas.width = this.diameter, this.$refs.canvas.height = this.diameter, this.ctx = this.$refs.canvas.getContext("2d"), this.circle = { path: new Path2D, xCords: this.diameter / 2, yCords: this.diameter / 2, radius: this.diameter / 2 }, this.circle.path.moveTo(this.circle.xCords, this.circle.yCords), this.circle.path.arc(this.circle.xCords, this.circle.yCords, this.circle.radius, 0, 360), this.circle.path.closePath(), this.updateWheelColors() }, handleValue: function (t, e) { void 0 === e && (e = !1); var r, n, i = this.pickerRect, a = i.width, s = i.height; if (this.currentColor = P(t), this.preventEcho = !0, "wheel" === this.mode) { var o = (100 - this.currentColor.lum) * (this.diameter / 200), l = this.diameter / 2, u = (r = o, n = this.currentColor.hue / 360, { x: r * Math.cos(n * Math.PI * 2), y: r * Math.sin(n * Math.PI * 2) }); this.cursor = { x: u.x + l, y: u.y + l }, this.currentSat = this.currentColor.sat } if ("square" === this.mode) { var c = this.currentColor.sat / 100 * a, h = (100 - this.currentColor.lum) / 100 * s; this.cursor = { x: c, y: h }, this.currentHue = this.currentColor.hue } }, updateCursorPosition: function (t) { var e = t.x, r = t.y, n = this.pickerRect, i = n.left, a = n.top, s = n.width, o = n.height, l = { x: Math.min(Math.max(e - i, 0), s), y: Math.min(Math.max(r - a, 0), o) }; ("wheel" !== this.mode || this.ctx.isPointInPath(this.circle.path, l.x, l.y)) && (this.cursor = l, this.updateColor()) }, updateColor: function (t) { void 0 === t && (t = !1), this.preventEcho ? this.preventEcho = !1 : (this.currentColor = this.getCanvasColor(), this.preventUpdating = !0, this.$emit("change", this.currentColor), this.$emit("input", this.currentColor)) }, updateWheelColors: function () { var t = this; if (this.circle) { var e = this.pickerRect, r = e.width, n = e.height, i = this.circle.xCords, a = this.circle.yCords, s = this.circle.radius, o = this.satSlider ? this.currentSat : 100; this.ctx.clearRect(0, 0, r, n); for (var l = 0; l < 360; l += 1) { var u = t.ctx.createRadialGradient(i, a, 0, i, a, s), c = (l - 2) * Math.PI / 180, h = (l + 2) * Math.PI / 180; t.ctx.beginPath(), t.ctx.moveTo(i, a), t.ctx.arc(i, a, s, c, h), t.ctx.closePath(), u.addColorStop(0, "hsl(" + l + ", " + o + "%, 100%)"), u.addColorStop(.5, "hsl(" + l + ", " + o + "%, 50%)"), u.addColorStop(1, "hsl(" + l + ", " + o + "%, 0%)"), t.ctx.fillStyle = u, t.ctx.fill() } } }, updateSquareColors: function () { var t = this.pickerRect, e = t.width, r = t.height; this.ctx.clearRect(0, 0, e, r), this.ctx.fillStyle = "hsl(" + this.currentHue + ", 100%, 50%)", this.ctx.fillRect(0, 0, e, r); var n = this.ctx.createLinearGradient(0, 0, e, 0); n.addColorStop(0, "hsl(0, 0%, 50%)"), n.addColorStop(1, "hsla(0, 0%, 50%, 0)"), this.ctx.fillStyle = n, this.ctx.fillRect(0, 0, e, r); var i = this.ctx.createLinearGradient(0, 0, 0, r); i.addColorStop(0, "hsl(0, 0%, 100%)"), i.addColorStop(.5, "hsla(0, 0%, 100%, 0)"), i.addColorStop(.5, "hsla(0, 0%, 0%, 0)"), i.addColorStop(1, "hsl(0, 0%, 0%) "), this.ctx.fillStyle = i, this.ctx.fillRect(0, 0, e, r) }, getCanvasColor: function () { var t, e, r = this.cursor, n = r.x, i = r.y, a = 0, s = 0, o = 0; if ("wheel" === this.mode) { var l = this.diameter / 2, u = (t = n - l, e = -1 * (i - l), { r: Math.sqrt(t * t + e * e), theta: 180 * Math.atan2(e, t) / Math.PI }), c = u.theta; s = 100 * (l - u.r) / l, o = ~Math.sign(c) ? 360 - c : -c, a = this.currentSat } if ("square" === this.mode) { var h = this.pickerRect; a = 100 * n / h.width, s = 100 - 100 * i / h.height, o = this.currentHue } return new y.HslColor({ alpha: this.alpha, hue: Math.round(o), sat: Math.round(a), lum: Math.round(s) }) }, handleSelect: function (t) { var e = this; t.preventDefault(), this.pickerRect = this.$refs.canvas.getBoundingClientRect(), this.updateCursorPosition(j(t)); var r = function (t) { window.requestAnimationFrame(function () { e.updateCursorPosition(j(t)) }) }, n = function () { document.removeEventListener("mousemove", r), document.removeEventListener("touchmove", r), document.removeEventListener("mouseup", n), document.removeEventListener("touchend", n) }; document.addEventListener("mousemove", r), document.addEventListener("touchmove", r), document.addEventListener("mouseup", n), document.addEventListener("touchend", n) } }, mounted: function () { var t = this; this.pickerRect = this.$refs.canvas.getBoundingClientRect(), "wheel" === this.mode && this.initWheel(), "square" === this.mode && this.initSquare(), this.$nextTick(function () { t.handleValue(t.value) }) } }, G = function () { var e = this, t = e.$createElement, r = e._self._c || t; return r("div", { ref: "picker", staticClass: "verte-picker", class: "verte-picker--" + e.mode }, [r("div", { ref: "origin", staticClass: "verte-picker__origin" }, [r("canvas", { ref: "canvas", staticClass: "verte-picker__canvas", on: { mousedown: e.handleSelect, touchstart: e.handleSelect } }), r("div", { ref: "cursor", staticClass: "verte-picker__cursor", style: "transform: translate3d(" + e.cursor.x + "px, " + e.cursor.y + "px, 0)" })]), "square" === e.mode ? r("slider", { staticClass: "verte-picker__slider", attrs: { gradient: ["#f00", "#ff0", "#0f0", "#0ff", "#00f", "#f0f", "#f00"], editable: !1, max: 360 }, model: { value: e.currentHue, callback: function (t) { e.currentHue = t }, expression: "currentHue" } }) : e._e(), "wheel" === e.mode ? r("slider", { staticClass: "verte-picker__slider", attrs: { gradient: ["hsl(" + e.currentColor.hue + ",0%," + e.currentColor.lum + "%)", "hsl(" + e.currentColor.hue + ",100%," + e.currentColor.lum + "%)"], editable: !1, max: 100 }, model: { value: e.currentSat, callback: function (t) { e.currentSat = t }, expression: "currentSat" } }) : e._e()], 1) }; G._withStripped = !0; var X, Y, Z, J, K, Q, tt = (Z = void 0, J = !(X = { render: G, staticRenderFns: [] }), (K = ("function" == typeof (Y = z) ? Y.options : Y) || {}).__file = "/mnt/c/Users/Abdelrahman/Projects/verte/src/components/Picker.vue", K.render || (K.render = X.render, K.staticRenderFns = X.staticRenderFns, K._compiled = !0, J && (K.functional = !0)), K._scopeId = Z, K); function et(t, e) { if (Q) return Q; var r = (e = e || {}).recentColors, n = e.onRecentColorsChange; return Q = new t({ data: function () { return { recentColors: r || function (t, e) { for (var r = [], n = 0; n < t; n++) { var i = "function" == typeof e ? e() : e; r.push(i) } return r }(6, $) } }, methods: { addRecentColor: function (t) { this.recentColors.includes(t) || (6 <= this.recentColors.length && this.recentColors.pop(), this.recentColors.unshift(t), n && n(this.recentColors)) } } }) } var rt, nt, it, at, st, ot = { name: "Verte", components: { Picker: tt, Slider: T }, props: { picker: { type: String, default: "square", validator: A(0, ["wheel", "square"]) }, value: { type: String, default: "#000" }, model: { type: String, default: "hsl", validator: A(0, ["rgb", "hex", "hsl"]) }, display: { type: String, default: "picker", validator: A(0, ["picker", "widget"]) }, menuPosition: { type: String, default: "bottom", validator: A(0, ["top", "bottom", "left", "right", "center"]) }, showHistory: { type: Boolean, default: !0 }, colorHistory: { type: Array, default: null }, enableAlpha: { type: Boolean, default: !0 }, rgbSliders: { type: Boolean, default: !1 }, draggable: { type: Boolean, default: !0 } }, data: function () { return { isMenuActive: !0, isLoading: !0, rgb: E("#000"), hex: R("#000"), hsl: P("#000"), delta: { x: 0, y: 0 }, currentModel: "", internalColorHistory: [] } }, computed: { $_verteStore: function () { return et() }, historySource: function () { return this.colorHistory ? this.internalColorHistory : this.$_verteStore.recentColors }, currentColor: { get: function () { return this[this.model], this[this.model].toString() }, set: function (t) { this.selectColor(t) } }, alpha: { get: function () { return this[this.model] ? isNaN(this[this.model].alpha) ? 1 : this[this.model].alpha : 1 }, set: function (t) { this[this.model].alpha = t, this.selectColor(this[this.model]) } }, menuOnly: function () { return "widget" === this.display } }, watch: { value: function (t, e) { t !== e && t !== this.currentColor && this.selectColor(t) }, rgb: { handler: function (t) { this.hex = R(t.toString()), this.$emit("input", this.currentColor) }, deep: !0 }, colorHistory: function (t) { this.internalColorHistory !== t && (this.internalColorHistory = [].concat(t)) } }, beforeCreate: function () { et(this.$options._base) }, install: function (t, e) { et(t, e), t.component("Verte", this) }, created: function () { this.colorHistory && (this.internalColorHistory = [].concat(this.colorHistory)), this.selectColor(this.value || "#000", !0), this.currentModel = this.model }, mounted: function () { var t = this; this.$nextTick(function () { t.isLoading = !1, t.menuOnly || (t.isMenuActive = !1) }) }, methods: { selectColor: function (t, e) { var r, n; (void 0 === e && (e = !1), "rgb" === (n = h(r = t)) ? C(r).invalid : "hex" === n ? _(r).invalid : "hsl" !== n || x(r).invalid) || (this.rgb = E(t), this.hex = R(t), this.hsl = P(t), e || this.$emit("input", this.currentColor)) }, switchModel: function () { var t = ["hex", "rgb", "hsl"], e = t.indexOf(this.currentModel); this.currentModel = t[e + 1] || t[0] }, handleMenuDrag: function (t) { var r = this; if (2 !== t.button) { t.preventDefault(); var n = Object.assign({}, this.delta), i = j(t), e = function (e) { window.requestAnimationFrame(function () { var t = j(e); r.delta.x = n.x + t.x - i.x, r.delta.y = n.y + t.y - i.y }) }, a = function () { document.removeEventListener("mousemove", e), document.removeEventListener("mouseup", a), document.removeEventListener("touchmove", e), document.removeEventListener("touchup", a) }; document.addEventListener("mousemove", e), document.addEventListener("mouseup", a), document.addEventListener("touchmove", e), document.addEventListener("touchup", a) } }, submit: function () { this.$emit("beforeSubmit", this.currentColor), this.addColorToHistory(this.currentColor), this.$emit("input", this.currentColor), this.$emit("submit", this.currentColor) }, addColorToHistory: function (t) { if (this.colorHistory) return 6 <= this.internalColorHistory.length && this.internalColorHistory.pop(), this.internalColorHistory.unshift(t), void this.$emit("update:colorHistory", this.internalColorHistory); this.$_verteStore.addRecentColor(this.currentColor) }, inputChanged: function (t, e) { var r = t.target; if ("hex" !== this.currentModel) { var n = Math.min(Math.max(r.value, r.min), r.max); this[this.currentModel][e] = n, this.selectColor(this[this.currentModel]) } else this.selectColor(r.value) }, toggleMenu: function () { this.isMenuActive ? this.closeMenu() : this.openMenu() }, closeMenu: function () { this.isMenuActive = !1, document.removeEventListener("mousedown", this.closeCallback), this.$emit("close", this.currentColor) }, openMenu: function () { var e = this; this.isMenuActive = !0, this.closeCallback = function (t) { N(t.target, e.$refs.menu) || N(t.target, e.$refs.guide) || e.closeMenu() }, document.addEventListener("mousedown", this.closeCallback) } } }, lt = function () { var r = this, t = r.$createElement, n = r._self._c || t; return n("div", { staticClass: "verte", class: { "verte--loading": r.isLoading } }, [r.menuOnly ? r._e() : n("button", { ref: "guide", staticClass: "verte__guide", style: "color: " + r.currentColor + "; fill: " + r.currentColor + ";", attrs: { type: "button" }, on: { click: r.toggleMenu } }, [r._t("default", [n("svg", { staticClass: "verte__icon", attrs: { viewBox: "0 0 24 24" } }, [n("pattern", { attrs: { id: "checkerboard", width: "6", height: "6", patternUnits: "userSpaceOnUse", fill: "FFF" } }, [n("rect", { attrs: { fill: "#7080707f", x: "0", width: "3", height: "3", y: "0" } }), n("rect", { attrs: { fill: "#7080707f", x: "3", width: "3", height: "3", y: "3" } })]), n("circle", { attrs: { cx: "12", cy: "12", r: "12", fill: "url(#checkerboard)" } }), n("circle", { attrs: { cx: "12", cy: "12", r: "12" } })])])], 2), n("div", { staticClass: "verte__menu-origin", class: ["verte__menu-origin--" + r.menuPosition, { "verte__menu-origin--static": r.menuOnly, "verte__menu-origin--active": r.isMenuActive }] }, [n("div", { ref: "menu", staticClass: "verte__menu", style: "transform: translate(" + r.delta.x + "px, " + r.delta.y + "px)", attrs: { tabindex: "-1" } }, [r.menuOnly ? r._e() : n("button", { staticClass: "verte__close", attrs: { type: "button" }, on: { click: r.closeMenu } }, [n("svg", { staticClass: "verte__icon verte__icon--small", attrs: { viewBox: "0 0 24 24" } }, [n("title", [r._v("Close Icon")]), n("path", { attrs: { d: "M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" } })])]), r.draggable && !r.menuOnly ? n("div", { staticClass: "verte__draggable", on: { mousedown: r.handleMenuDrag, touchstart: r.handleMenuDrag } }) : r._e(), n("Picker", { attrs: { mode: r.picker, alpha: r.alpha }, model: { value: r.currentColor, callback: function (t) { r.currentColor = t }, expression: "currentColor" } }), n("div", { staticClass: "verte__controller" }, [r.enableAlpha ? n("Slider", { attrs: { gradient: ["rgba(" + r.rgb.red + ", " + r.rgb.green + ", " + r.rgb.blue + ", 0)", "rgba(" + r.rgb.red + ", " + r.rgb.green + ", " + r.rgb.blue + ", 1)"], min: 0, max: 1, step: .01, editable: !1 }, model: { value: r.alpha, callback: function (t) { r.alpha = t }, expression: "alpha" } }) : r._e(), r.rgbSliders ? [n("Slider", { attrs: { gradient: ["rgb(0," + r.rgb.green + "," + r.rgb.blue + ")", "rgb(255," + r.rgb.green + "," + r.rgb.blue + ")"] }, model: { value: r.rgb.red, callback: function (t) { r.$set(r.rgb, "red", t) }, expression: "rgb.red" } }), n("Slider", { attrs: { gradient: ["rgb(" + r.rgb.red + ",0," + r.rgb.blue + ")", "rgb(" + r.rgb.red + ",255," + r.rgb.blue + ")"] }, model: { value: r.rgb.green, callback: function (t) { r.$set(r.rgb, "green", t) }, expression: "rgb.green" } }), n("Slider", { attrs: { gradient: ["rgb(" + r.rgb.red + "," + r.rgb.green + ",0)", "rgb(" + r.rgb.red + "," + r.rgb.green + ",255)"] }, model: { value: r.rgb.blue, callback: function (t) { r.$set(r.rgb, "blue", t) }, expression: "rgb.blue" } })] : r._e(), n("div", { staticClass: "verte__inputs" }, [n("button", { staticClass: "verte__model", attrs: { type: "button" }, on: { click: r.switchModel } }, [r._v(r._s(r.currentModel))]), "hsl" === r.currentModel ? [n("input", { staticClass: "verte__input", attrs: { type: "number", max: "360", min: "0" }, domProps: { value: r.hsl.hue }, on: { change: function (t) { r.inputChanged(t, "hue") } } }), n("input", { staticClass: "verte__input", attrs: { type: "number", min: "0", max: "100" }, domProps: { value: r.hsl.sat }, on: { change: function (t) { r.inputChanged(t, "sat") } } }), n("input", { staticClass: "verte__input", attrs: { type: "number", min: "0", max: "100" }, domProps: { value: r.hsl.lum }, on: { change: function (t) { r.inputChanged(t, "lum") } } })] : r._e(), "rgb" === r.currentModel ? [n("input", { staticClass: "verte__input", attrs: { type: "number", min: "0", max: "255" }, domProps: { value: r.rgb.red }, on: { change: function (t) { r.inputChanged(t, "red") } } }), n("input", { staticClass: "verte__input", attrs: { type: "number", min: "0", max: "255" }, domProps: { value: r.rgb.green }, on: { change: function (t) { r.inputChanged(t, "green") } } }), n("input", { staticClass: "verte__input", attrs: { type: "number", min: "0", max: "255" }, domProps: { value: r.rgb.blue }, on: { change: function (t) { r.inputChanged(t, "blue") } } })] : r._e(), "hex" === r.currentModel ? [n("input", { staticClass: "verte__input", attrs: { type: "text" }, domProps: { value: r.hex }, on: { change: function (t) { r.inputChanged(t, "hex") } } })] : r._e(), n("button", { staticClass: "verte__submit", attrs: { type: "button" }, on: { click: r.submit } }, [n("title", [r._v("Submit Icon")]), n("svg", { staticClass: "verte__icon", attrs: { viewBox: "0 0 24 24" } }, [n("path", { attrs: { d: "M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z" } })])])], 2), r.showHistory ? n("div", { ref: "recent", staticClass: "verte__recent" }, r._l(r.historySource, function (e) { return n("a", { staticClass: "verte__recent-color", style: "color: " + e, attrs: { role: "button", href: "#" }, on: { click: function (t) { t.preventDefault(), r.selectColor(e) } } }) })) : r._e()], 2)], 1)])]) }; lt._withStripped = !0; return it = void 0, at = !(rt = { render: lt, staticRenderFns: [] }), (st = ("function" == typeof (nt = ot) ? nt.options : nt) || {}).__file = "/mnt/c/Users/Abdelrahman/Projects/verte/src/components/Verte.vue", st.render || (st.render = rt.render, st.staticRenderFns = rt.staticRenderFns, st._compiled = !0, at && (st.functional = !0)), st._scopeId = it, st });
